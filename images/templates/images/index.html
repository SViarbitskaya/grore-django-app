{% extends "base.html" %}
{% load static %}
{% load i18n %}

{% block title %}Grore homepage{% endblock %}

{% block stylesheets %}
    <link rel="stylesheet" href="{% static '/images/css/style.css' %}">
{% endblock %}

{% block javascript %}
    <script src="{% static 'images/js/htmx.min.js' %}" defer></script>
    <script src="{% static 'images/js/index.js' %}" defer></script>
{% endblock %}

{% block content %}
<form method="get" action="{% url 'home' %}" class="form-inline search-form">
    {% csrf_token %}
    {{ search_form.as_p }}
    {# <button type="submit"><i class="fa fa-search"></i></button> #}
</form>
{% if search_form.is_bound and search_form.search_query.errors %}
    <p class="error">{{ search_form.search_query.errors }}</p>
{% endif %}

<div id="text-container" 
    hx-get="{% url 'home' %}?page={{ page_obj.number|add:1 }}{% if request.GET.search_query %}&search_query={{ request.GET.search_query }}{% endif %}"
    hx-trigger="scroll" hx-swap="beforeend"
>
    {% for image in images %}
        <div class="text-item" data-id="{{ image.id }}">
            {{ image.note }}
        </div>
    {% endfor %}
</div>

{% endblock %}



