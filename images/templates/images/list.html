{% load static %}
<div class="text-container htmx"
    hx-trigger="revealed"
    hx-get="{% url 'home' %}?page={{ page_obj.number|add:1 }}{% if request.GET.search_query %}&search_query={{ request.GET.search_query }}{% endif %}"
    hx-swap="afterend"
>
    {% for image in images %}
    <div class="text-item" data-id="{{ image.id }}" onclick="showModal({{ image.id }}, '{{ image.file.url }}')">
        {{ image.note }}
    </div>
    {% endfor %}
</div>

<!-- Modal Structure -->
<div class="modal fade" id="imageModal" tabindex="-1" aria-labelledby="modalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <img src="{{ image.file.url }}" id="modalImage" alt="{{ image.note }}" class="img-fluid">
            </div>
            <div class="modal-footer">
                <a id="goToSelection" class="btn btn-secondary" href="{% url 'selection' %}">Your Selection</a>
                <button type="button" class="btn btn-primary" id="selectButton" data-selected="false" data-image-id="">Add to Your Selection</button>
                <a id="downloadButton" class="btn btn-secondary" href="{{ image.file.url }}" download style="display: none;">Download</a>
            </div>
        </div>
    </div>
</div>
